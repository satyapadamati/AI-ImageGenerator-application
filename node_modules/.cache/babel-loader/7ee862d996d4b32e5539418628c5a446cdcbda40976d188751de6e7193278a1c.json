{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[prompt,setPrompt]=useState('');const[loading,setLoading]=useState(false);const[imageUrl,setImageUrl]=useState(null);const[error,setError]=useState(null);const generateImage=async()=>{if(!prompt.trim()){setError('Please enter a prompt');return;}setLoading(true);setError(null);try{await axios.post('http://localhost:5000/generate',{prompt:prompt},{headers:{'Content-Type':'application/json'}});// Add a timestamp to prevent browser caching\nsetImageUrl(`http://localhost:5000/generated_image.png?t=${new Date().getTime()}`);}catch(err){var _err$response,_err$response$data;console.error('Error:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to generate image. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-8\",children:\"AI Image Generator\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 mb-8\",children:\"Enter a detailed description and let AI create a unique image for you\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:prompt,onChange:e=>setPrompt(e.target.value),placeholder:\"Describe the image you want to generate...\",className:\"w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none\",disabled:loading}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:generateImage,disabled:loading,className:`w-full py-3 px-4 rounded-lg text-white font-medium ${loading?'bg-gray-400 cursor-not-allowed':'bg-primary hover:bg-primary/90 transition-colors'}`,children:loading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Generating...\"]}):'Generate Image'})]})}),imageUrl&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:\"Generated Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative aspect-square w-full overflow-hidden rounded-lg\",children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Generated\",className:\"w-full h-full object-cover\"})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","prompt","setPrompt","loading","setLoading","imageUrl","setImageUrl","error","setError","generateImage","trim","post","headers","Date","getTime","err","_err$response","_err$response$data","console","response","data","className","children","value","onChange","e","target","placeholder","disabled","onClick","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","src","alt"],"sources":["C:/Users/satyakiran.padamati/Downloads/gpt-api/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [prompt, setPrompt] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const generateImage = async () => {\r\n    if (!prompt.trim()) {\r\n      setError('Please enter a prompt');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      await axios.post('http://localhost:5000/generate', { \r\n        prompt: prompt \r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      // Add a timestamp to prevent browser caching\r\n      setImageUrl(`http://localhost:5000/generated_image.png?t=${new Date().getTime()}`);\r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      setError(err.response?.data?.error || 'Failed to generate image. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-8\">\r\n            AI Image Generator\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600 mb-8\">\r\n            Enter a detailed description and let AI create a unique image for you\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-xl p-6 mb-8\">\r\n          <div className=\"space-y-4\">\r\n            <textarea\r\n              value={prompt}\r\n              onChange={(e) => setPrompt(e.target.value)}\r\n              placeholder=\"Describe the image you want to generate...\"\r\n              className=\"w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none\"\r\n              disabled={loading}\r\n            />\r\n            \r\n            {error && (\r\n              <div className=\"text-red-500 text-sm\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            <button\r\n              onClick={generateImage}\r\n              disabled={loading}\r\n              className={`w-full py-3 px-4 rounded-lg text-white font-medium ${\r\n                loading \r\n                  ? 'bg-gray-400 cursor-not-allowed'\r\n                  : 'bg-primary hover:bg-primary/90 transition-colors'\r\n              }`}\r\n            >\r\n              {loading ? (\r\n                <span className=\"flex items-center justify-center\">\r\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Generating...\r\n                </span>\r\n              ) : (\r\n                'Generate Image'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {imageUrl && (\r\n          <div className=\"bg-white rounded-lg shadow-xl p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Generated Image</h2>\r\n            <div className=\"relative aspect-square w-full overflow-hidden rounded-lg\">\r\n              <img\r\n                src={imageUrl}\r\n                alt=\"Generated\"\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}